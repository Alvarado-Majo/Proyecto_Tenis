<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${tenis.nombre}">Mas info</title>
    <link rel="stylesheet" th:href="@{/css/estilos.css}">
    <style>
        .detalle-tenis {
            display: flex;
            gap: 30px;
            margin-top: 30px;
            align-items: flex-start;
        }
        .detalle-imagen img {
            max-width: 320px;
            border-radius: 16px;
        }
        .detalle-info p {
            margin: 8px 0;
            font-size: 16px;
        }
        .precio {
            font-size: 22px;
            font-weight: bold;
        }
        .btn-volver {
            display: inline-block;
            margin-top: 15px;
            padding: 8px 16px;
            text-decoration: none;
            border-radius: 8px;
        }
        .sin-stock {
            color: #cc0000;
            font-weight: bold;
        }
    </style>
</head>
<body>

<div class="contenedor">

    <h1 class="titulo">Detalle de la tenis</h1>

    <div class="detalle-tenis">

        <div class="detalle-imagen">
            <img th:src="${tenis.imagen}" alt="Imagen del tenis">
        </div>

        <div class="detalle-info">
            <h2 th:text="${tenis.nombre}">Nombre tenis</h2>

            <p class="precio">
                ₡ <span th:text="${tenis.precio}">0.0</span>
            </p>

            <p>
                <strong>Marca: </strong>
                <span th:text="${tenis.marca}">Marca</span>
            </p>

            <p>
                <strong>Talla: </strong>
                <span th:text="${tenis.talla}">Talla</span>
            </p>

            <p th:if="${tenis.descripcion != null}">
                <strong>Descripción: </strong>
                <span th:text="${tenis.descripcion}">Descripción del producto</span>
            </p>

            <!-- STOCK (simple) -->
            <p th:if="${tenis.stock != null}">
                <strong>Stock:</strong>
                <span th:text="${tenis.stock}">0</span>
            </p>

            <!-- FORM AGREGAR AL CARRITO (solo si hay stock y > 0) -->
            <form th:if="${tenis.stock != null and tenis.stock > 0}"
                  th:action="@{/agregar-carrito/{id}(id=${tenis.idTenis})}"
                  method="post">

                <label for="cantidad"><strong>Cantidad:</strong></label>
                <input type="number" id="cantidad" name="cantidad" min="1" value="1">

                <button type="submit">Agregar al carrito</button>
            </form>

            <!-- Mensaje si no hay stock -->
            <p th:if="${tenis.stock == null or tenis.stock <= 0}" class="sin-stock">
                Sin stock actualmente
            </p>

            <a th:href="@{/}" class="btn-volver">Volver al catálogo</a>
        </div>
    </div>

</div>

</body>
</html>
